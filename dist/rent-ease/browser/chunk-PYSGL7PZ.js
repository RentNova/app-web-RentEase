import{a as k,b as z}from"./chunk-XLR5JXE6.js";import{a as F,i as j,k as _}from"./chunk-AXK7MOIB.js";import{$ as f,Cb as l,Db as g,Ha as x,Ka as p,_ as v,bb as C,db as d,ea as m,ja as M,ka as h,mb as r,nb as a,ob as c,pb as w,pc as E,ra as y,sa as b,sb as S,sc as I,u as P,ub as u}from"./chunk-RCTQCWBE.js";var T=(()=>{let t=class t{constructor(){this.apiURL=k.apiURL,this.session=m(z),this.http=m(F)}getProperties(){let n=`${this.apiURL}/properties`;return this.http.get(n).pipe(P(i=>i.filter(s=>s.owner!==this.session.getUserID())))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function N(e,t){if(e&1&&c(0,"img",17),e&2){let o=t.$implicit;d("src",o.image,x)("alt",o.alt)}}function R(e,t){if(e&1){let o=w();r(0,"div",3),S("click",function(){let i=y(o).$implicit,s=u();return b(s.goToPropertyDetail(i))}),r(1,"div",4),c(2,"img",5),a(),r(3,"div",6)(4,"p",7),l(5),a()(),r(6,"div",8),c(7,"img",9),r(8,"p"),l(9),a(),r(10,"div",10),C(11,N,1,2,"img",11),a()(),r(12,"div",12),c(13,"hr"),a(),r(14,"div",13),c(15,"img",14),r(16,"p"),l(17),a(),c(18,"hr")(19,"img",15),r(20,"p"),l(21),a(),c(22,"hr")(23,"img",16),r(24,"p"),l(25),a()()()}if(e&2){let o=t.$implicit,n=u();p(2),d("src",o.img,x),p(3),g(o.name),p(4),g(o.ubication),p(2),d("ngForOf",n.getPropertyStars(o.rating)),p(6),g(o.rooms),p(4),g(o.bathrooms),p(4),g(o.size)}}var U=(()=>{let t=class t{constructor(){this.propertyservice=m(T),this.router=m(j),this.properties=[]}ngOnInit(){this.propertyservice.getProperties().subscribe(n=>{this.properties=n})}getPropertyStars(n){let i=[];for(let s=1;s<=5;s++)s<=n?i.push({image:"assets/star.png",alt:"Estrella llena"}):s<=n+.5?i.push({image:"assets/star2.png",alt:"Estrella semi llena"}):i.push({image:"assets/star3.png",alt:"Estrella vac\xEDa"});return i}goToPropertyDetail(n){this.router.navigate(["/properties",n.id],{state:{property:n}})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=M({type:t,selectors:[["app-search"]],decls:3,vars:1,consts:[[1,"container"],[1,"properties"],["class","property-item",3,"click",4,"ngFor","ngForOf"],[1,"property-item",3,"click"],[1,"image"],["onerror","this.src='assets/user.png'",3,"src"],[1,"topside"],[1,"name"],[1,"middleside"],["src","assets/location.png",1,"icon"],[1,"stars-container"],[3,"src","alt",4,"ngFor","ngForOf"],[1,"line"],[1,"botside"],["src","assets/bed.png",1,"icon"],["src","assets/bathroom.png",1,"icon"],["src","assets/size.png",1,"icon"],[3,"src","alt"]],template:function(i,s){i&1&&(r(0,"div",0)(1,"div",1),C(2,R,26,7,"div",2),a()()),i&2&&(p(2),d("ngForOf",s.properties))},dependencies:[E],styles:[".buttons[_ngcontent-%COMP%]{position:relative;display:block;padding:12px 0;width:100%;text-align:center}.container[_ngcontent-%COMP%]{padding:121px 0 0;width:100%;height:100%}#btn-add[_ngcontent-%COMP%]{clear:left;position:relative;float:left;width:200px;margin-left:32px;font-size:16px}#btn-report[_ngcontent-%COMP%]{position:relative;float:right;width:200px;margin-right:32px;font-size:16px}.property-item[_ngcontent-%COMP%]{margin:20px auto;max-width:400px}.properties[_ngcontent-%COMP%]{clear:both;display:flex;flex-wrap:wrap}.properties[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px;width:400px;border-radius:16px}.properties[_ngcontent-%COMP%]   .topside[_ngcontent-%COMP%]{position:relative;margin-top:10px}.icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:4px}.middleside[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .properties[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{float:left}.properties[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{float:right;font-weight:400}.properties[_ngcontent-%COMP%]   .middleside[_ngcontent-%COMP%]{clear:both}.middleside[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:left}.stars-container[_ngcontent-%COMP%]{float:right;display:flex}.line[_ngcontent-%COMP%]{clear:both}.line[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:#e9e9e9;border:none;height:2px}.stars-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:auto;margin-right:5px}.botside[_ngcontent-%COMP%]{clear:both;display:flex;width:200px;align-items:center}.botside[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:#e9e9e9;border:none;height:24px;width:2px}.botside[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]});let e=t;return e})();var $=[{path:"",component:U}],D=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({imports:[_.forChild($),_]});let e=t;return e})();var st=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({imports:[I,D]});let e=t;return e})();export{st as SearchModule};

import{b as z,c as It}from"./chunk-XY4X5J46.js";import{a as bt,b as yt,c as Ot,d as wt,e as St,f as W,g as Et,j as Ft,k as Dt,l as J}from"./chunk-LB4AOQ4L.js";import{b as q,c as O,e as V,f as ft,h as ht,i as ut,j as Ct,k as vt,l as xt,m as _t,n as Mt,o as H,p as Pt}from"./chunk-H22SUJBC.js";import{a as G,b as D}from"./chunk-XLR5JXE6.js";import{a as B,f as ct,g as mt,h as dt,i as y,j as gt,k as X}from"./chunk-AXK7MOIB.js";import"./chunk-5IC5DNT2.js";import{$ as I,Cb as s,Db as f,Eb as k,Fb as $,Gb as nt,Ha as h,Hb as rt,Ib as ot,Ka as p,La as Q,Lb as at,U as N,_ as E,_b as st,a as et,bb as g,db as c,ea as m,eb as T,hb as v,ja as C,ka as F,m as it,mb as n,mc as pt,nb as o,ob as d,pb as j,pc as b,qc as lt,ra as U,sa as L,sb as u,sc as A,u as S,ub as x}from"./chunk-RCTQCWBE.js";var w=(()=>{let t=class t{constructor(){this.dataSource=new it("default message"),this.currentData=this.dataSource.asObservable()}changeTitle(e){this.dataSource.next(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Rt=(()=>{let t=class t{constructor(){this.location=m(pt),this.titleservice=m(w),this.cdr=m(st),this.title=""}ngOnInit(){this.titleservice.currentData.subscribe(e=>{this.title=e,this.cdr.detectChanges()})}goBack(){this.location.back()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-properties"]],decls:7,vars:1,consts:[[1,"container"],[1,"headbar"],["src","assets/return.png",3,"click"],[1,"profile"]],template:function(r,a){r&1&&(n(0,"div",0)(1,"div",1)(2,"img",2),u("click",function(){return a.goBack()}),o(),n(3,"div",3)(4,"h1"),s(5),o()()(),d(6,"router-outlet"),o()),r&2&&(p(5),f(a.title))},dependencies:[dt],styles:["h1[_ngcontent-%COMP%]{font-size:64px}h2[_ngcontent-%COMP%]{font-size:32px}h3[_ngcontent-%COMP%]{font-size:24px}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:16px}h1[_ngcontent-%COMP%]{margin:auto auto 10px;font-weight:400;color:#fff;line-height:64px}h2[_ngcontent-%COMP%]{line-height:32px;color:#2389fc}.container[_ngcontent-%COMP%]{padding:121px 0 0;width:100%;height:100%}div[_ngcontent-%COMP%]{overflow:auto}.headbar[_ngcontent-%COMP%]{position:relative;width:100%;height:92px;background-color:#001f3f}.headbar[_ngcontent-%COMP%]{overflow:visible}.headbar[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:relative;float:left;top:-10px}.headbar[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.headbar[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:active{transform:scale(.95)}.profile[_ngcontent-%COMP%]{position:absolute;width:80%;top:50%;left:50%;transform:translate(-50%,-50%)}.profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}"]});let i=t;return i})();var R=(()=>{let t=class t{constructor(){this.currentID=0,this.apiURL=G.apiURL,this.session=m(D),this.http=m(B)}getHighestId(){return this.getProperties().pipe(S(e=>Math.max(...e.map(r=>r.id))))}getProperties(){let e=`${this.apiURL}/properties`;return this.http.get(e)}getOwnProperties(){let e=`${this.apiURL}/properties?owner=${this.session.getUserID()}`;return this.http.get(e)}getPropertyClient(e){let r=`${this.apiURL}/userdetails/${e}`;return this.http.get(r)}createProperty(e){return this.getHighestId().pipe(N(r=>{this.currentID=r+1,e.id=this.currentID,e.owner=this.session.getUserID(),this.http.get(`${this.apiURL}/userdetails/${this.session.getUserID()}`).subscribe(M=>{M.properties.push(this.currentID),this.http.patch(`${this.apiURL}/userdetails/${this.session.getUserID()}`,M)});let a=`${this.apiURL}/properties`;return this.http.post(a,e)}))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var $t=()=>["/properties/create"];function At(i,t){if(i&1&&d(0,"img",20),i&2){let l=t.$implicit;c("src",l.image,h)("alt",l.alt)}}function Bt(i,t){if(i&1){let l=j();n(0,"div",5),u("click",function(){let r=U(l).$implicit,a=x();return L(a.goToPropertyDetail(r))}),n(1,"div",6),d(2,"img",7),o(),n(3,"div",8)(4,"p",9),s(5),o(),n(6,"p",10),s(7),o()(),n(8,"div",11),d(9,"img",12),n(10,"p"),s(11),o(),n(12,"div",13),g(13,At,1,2,"img",14),o()(),n(14,"div",15),d(15,"hr"),o(),n(16,"div",16),d(17,"img",17),n(18,"p"),s(19),o(),d(20,"hr")(21,"img",18),n(22,"p"),s(23),o(),d(24,"hr")(25,"img",19),n(26,"p"),s(27),o()()()}if(i&2){let l=t.$implicit,e=x();p(2),c("src",l.img,h),p(3),f(l.name),p(),T("color",e.getStatusColor(l.state)),p(),f(l.state),p(4),f(l.ubication),p(2),c("ngForOf",e.getPropertyStars(l.rating)),p(6),f(l.rooms),p(4),f(l.bathrooms),p(4),f(l.size)}}var Tt=(()=>{let t=class t{constructor(){this.title=m(w),this.ownproperties=[],this.propertyservice=m(R),this.router=m(y)}ngOnInit(){this.title.changeTitle("Mis Propiedades"),this.propertyservice.getOwnProperties().subscribe(e=>{this.ownproperties=e})}goToPropertyDetail(e){this.router.navigate(["/properties/own",e.id],{state:{property:e}})}getPropertyStars(e){let r=[];for(let a=1;a<=5;a++)a<=e?r.push({image:"assets/star.png",alt:"Estrella llena"}):a<=e+.5?r.push({image:"assets/star2.png",alt:"Estrella semi llena"}):r.push({image:"assets/star3.png",alt:"Estrella vac\xEDa"});return r}getStatusColor(e){switch(e.toLowerCase()){case"ocupado":return"#FF0000";case"disponible":return"#00C914";case"en revision":return"#8F8F8F";default:return"black"}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-ownproperties"]],decls:7,vars:3,consts:[[1,"buttons"],["id","btn-add",3,"routerLink"],["id","btn-report"],[1,"properties"],["class","property-item",3,"click",4,"ngFor","ngForOf"],[1,"property-item",3,"click"],[1,"image"],["onerror","this.src='assets/user.png'",3,"src"],[1,"topside"],[1,"name"],[1,"state"],[1,"middleside"],["src","assets/location.png",1,"icon"],[1,"stars-container"],[3,"src","alt",4,"ngFor","ngForOf"],[1,"line"],[1,"botside"],["src","assets/bed.png",1,"icon"],["src","assets/bathroom.png",1,"icon"],["src","assets/size.png",1,"icon"],[3,"src","alt"]],template:function(r,a){r&1&&(n(0,"div",0)(1,"button",1),s(2,"Agregar propiedad"),o(),n(3,"button",2),s(4,"Informe"),o()(),n(5,"div",3),g(6,Bt,28,10,"div",4),o()),r&2&&(p(),c("routerLink",at(2,$t)),p(5),c("ngForOf",a.ownproperties))},dependencies:[b,gt],styles:[".buttons[_ngcontent-%COMP%]{position:relative;display:block;padding:12px 0;width:100%;text-align:center}#btn-add[_ngcontent-%COMP%]{clear:left;position:relative;float:left;width:200px;margin-left:32px;font-size:16px}#btn-report[_ngcontent-%COMP%]{position:relative;float:right;width:200px;margin-right:32px;font-size:16px}.property-item[_ngcontent-%COMP%]{margin:20px auto;max-width:400px}.properties[_ngcontent-%COMP%]{clear:both;display:flex;flex-wrap:wrap}.properties[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px;width:400px;border-radius:16px}.properties[_ngcontent-%COMP%]   .topside[_ngcontent-%COMP%]{position:relative;margin-top:10px}.icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:4px}.middleside[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .properties[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{float:left}.properties[_ngcontent-%COMP%]   .state[_ngcontent-%COMP%]{float:right;font-weight:400}.properties[_ngcontent-%COMP%]   .middleside[_ngcontent-%COMP%]{clear:both}.middleside[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:left}.stars-container[_ngcontent-%COMP%]{float:right;display:flex}.line[_ngcontent-%COMP%]{clear:both}.line[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:#e9e9e9;border:none;height:2px}.stars-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:auto;margin-right:5px}.botside[_ngcontent-%COMP%]{clear:both;display:flex;width:200px;align-items:center}.botside[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{background-color:#e9e9e9;border:none;height:24px;width:2px}.botside[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]});let i=t;return i})();var K=(()=>{let t=class t{constructor(){this.currentID=0,this.apiURL=G.apiURL,this.session=m(D),this.http=m(B)}getHighestId(){return this.getAllReviews().pipe(S(e=>Math.max(...e.map(r=>r.id))))}getAllReviews(){let e=`${this.apiURL}/reviews`;return this.http.get(e)}getUser(e){let r=`${this.apiURL}/userdetails/${e}`;return this.http.get(r)}getReviews(e){let r=`${this.apiURL}/reviews?propertyId=${e}`;return this.http.get(r)}createReview(e){return this.getHighestId().pipe(N(r=>{this.currentID=r+1,e.id=this.currentID,console.log("lago");let a=`${this.apiURL}/reviews`;return this.http.post(a,e)}))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function Vt(i,t){if(i&1&&d(0,"img",9),i&2){let l=t.$implicit;c("src",l.image,h)("alt",l.alt)}}var kt=(()=>{let t=class t{constructor(e,r){this.dialogRef=e,this.data=r,this.session=m(D),this.reviewservice=m(K),this.router=m(y),this.id=0,this.remainingCharacters=1e3,this.maxLength=1e3,this.rating=0,this.content=""}onSliderInput(e){let r=e.target.value;this.rating=Number(r),console.log("Slider value:",r)}getStars(e){let r=[];for(let a=1;a<=5;a++)a<=e?r.push({image:"assets/star.png",alt:"Estrella llena"}):a<=e+.5?r.push({image:"assets/star2.png",alt:"Estrella semi llena"}):r.push({image:"assets/star3.png",alt:"Estrella vac\xEDa"});return r}updateCharacterCount(e){this.remainingCharacters=this.maxLength-e.target.value.length}createReview(){if(this.content==="")return;let e={id:0,userid:this.session.getUserID(),rating:this.rating,content:this.content,propertyId:this.data.id};console.log("prueba"),this.reviewservice.createReview(e).subscribe(()=>{this.dialogRef.close()})}};t.\u0275fac=function(r){return new(r||t)(Q(wt),Q(St))},t.\u0275cmp=C({type:t,selectors:[["app-review-create"]],decls:13,vars:9,consts:[[1,"review-create"],[1,"example-margin",3,"disabled","max","min","step","discrete","showTickMarks"],["id","slider","matSliderThumb","",3,"input","click"],[1,"stars-container"],[3,"src","alt",4,"ngFor","ngForOf"],["type","text","id","review-content","placeholder","Contenido","maxlength","1000",3,"ngModelChange","input","ngModel"],[1,"btns"],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","","mat-dialog-close",""],[3,"src","alt"]],template:function(r,a){r&1&&(n(0,"div",0)(1,"mat-slider",1)(2,"input",2),u("input",function(P){return a.onSliderInput(P)})("click",function(P){return a.onSliderInput(P)}),o()(),n(3,"div",3),g(4,Vt,1,2,"img",4),o(),n(5,"textarea",5),ot("ngModelChange",function(P){return rt(a.content,P)||(a.content=P),P}),u("input",function(P){return a.updateCharacterCount(P)}),o(),n(6,"p"),s(7),o(),n(8,"div",6)(9,"button",7),u("click",function(){return a.createReview()}),s(10,"Enviar"),o(),n(11,"button",8),s(12,"Cancelar"),o()()()),r&2&&(p(),c("disabled",!1)("max",5)("min",0)("step",.5)("discrete",!1)("showTickMarks",!1),p(3),c("ngForOf",a.getStars(a.rating)),p(),nt("ngModel",a.content),p(2),k("",a.remainingCharacters," car\xE1cteres restantes"))},dependencies:[b,Et,Ft,Dt,q,V,_t,ht],styles:[".review-create[_ngcontent-%COMP%]{position:relative;height:fit-content;padding:0%;margin:5%}mat-slider[_ngcontent-%COMP%]{position:absolute;width:300px;top:0;left:0;opacity:0;z-index:1}.stars-container[_ngcontent-%COMP%]{position:relative;width:310px;display:flex}.stars-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%;pointer-events:none}#review-content[_ngcontent-%COMP%]{margin-top:20px;width:100%;height:200px;border-radius:5px;border-color:#eaeaea;border-style:solid;border-width:2px;resize:none}.btns[_ngcontent-%COMP%]{position:relative;width:90%}.btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;margin-left:20px}"]});let i=t;return i})();function Ht(i,t){if(i&1&&d(0,"img",9),i&2){let l=t.$implicit;c("src",l.image,h)("alt",l.alt)}}function Gt(i,t){if(i&1&&(n(0,"div",2)(1,"div",3),d(2,"img",4),n(3,"p"),s(4),o()(),n(5,"div",5)(6,"div",6),g(7,Ht,1,2,"img",7),o(),n(8,"div",8)(9,"p"),s(10),o()()()()),i&2){let l=t.$implicit,e=x();p(2),c("src",l.user.img,h),p(2),$("",l.user.firstName," ",l.user.lastName,""),p(3),c("ngForOf",e.getStars(l.review.rating)),p(3),f(l.review.content)}}var zt=(()=>{let t=class t{constructor(){this.propertyid=0,this.reviewservice=m(K),this.userReviews=[]}getStars(e){let r=[];for(let a=1;a<=5;a++)a<=e?r.push({image:"assets/star.png",alt:"Estrella llena"}):a<=e+.5?r.push({image:"assets/star2.png",alt:"Estrella semi llena"}):r.push({image:"assets/star3.png",alt:"Estrella vac\xEDa"});return r}ngOnInit(){this.reviewservice.getReviews(this.propertyid).subscribe(e=>{e.forEach(r=>{this.reviewservice.getUser(r.userid).subscribe(a=>{this.userReviews.push({review:r,user:a})})})})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-review-list"]],inputs:{propertyid:"propertyid"},decls:2,vars:1,consts:[[1,"review-list"],["class","review-item",4,"ngFor","ngForOf"],[1,"review-item"],[1,"profile"],["onerror","this.src='assets/user.png'",3,"src"],[1,"content"],[1,"stars-container"],[3,"src","alt",4,"ngFor","ngForOf"],[1,"text"],[3,"src","alt"]],template:function(r,a){r&1&&(n(0,"div",0),g(1,Gt,11,5,"div",1),o()),r&2&&(p(),c("ngForOf",a.userReviews))},dependencies:[b],styles:["p[_ngcontent-%COMP%]{font-size:16px}.review-list[_ngcontent-%COMP%]{border-radius:25px;border-width:3px;border-color:#2389fc;border-style:solid;max-width:75%;padding:20px 20px 20px 0;margin:20px}.profile[_ngcontent-%COMP%]{width:150px;text-align:center;color:#2389fc;font-weight:500;flex-shrink:0}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100px;height:100px;border-radius:50%}.stars-container[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.stars-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:25px}.review-item[_ngcontent-%COMP%]{display:flex}"]});let i=t;return i})();function Jt(i,t){if(i&1&&d(0,"img",15),i&2){let l=t.$implicit;c("src",l.image,h)("alt",l.alt)}}function Kt(i,t){if(i&1&&(n(0,"div",19)(1,"h2",20),s(2),o(),n(3,"div",21),d(4,"img",11),o(),n(5,"h2",22),s(6),o(),n(7,"div",23)(8,"p",12),s(9,"N\xBA personas"),o(),n(10,"p"),s(11),o()(),n(12,"div",24)(13,"div",25)(14,"p",12),s(15,"Inicio del contrato"),o(),n(16,"p"),s(17),o()(),n(18,"div",25)(19,"p",12),s(20,"T\xE9rmino del contrato"),o(),n(21,"p"),s(22),o()()()()),i&2){let l=x(3);p(),T("color",l.getStatusColor(l.propiedad.state)),p(),f(l.propiedad.state),p(2),c("src",l.client.img,h),p(2),$("",l.client.firstName," ",l.client.lastName,""),p(5),f(l.clientdata.cuantity),p(6),f(l.clientdata.contractStart),p(5),f(l.clientdata.contractEnd)}}function Qt(i,t){if(i&1&&(n(0,"div",26)(1,"h2",27),s(2),o()()),i&2){let l=x(3);p(),T("color",l.getStatusColor(l.propiedad.state)),p(),f(l.propiedad.state)}}function Xt(i,t){i&1&&(n(0,"div",28)(1,"h2",29),s(2,"Promocionar"),o(),n(3,"button"),s(4,"Listado destacado"),o(),n(5,"button"),s(6,"Anuncio personalizado"),o(),n(7,"button"),s(8,"Recomendaciones directas"),o()())}function Yt(i,t){if(i&1&&g(0,Kt,23,9,"div",16)(1,Qt,3,3,"div",17)(2,Xt,9,0,"div",18),i&2){let l=x(2);c("ngIf",l.client),p(),c("ngIf",!l.client),p(),c("ngIf",!l.client)}}function Zt(i,t){if(i&1&&(n(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2"),s(4),o(),n(5,"div",7),g(6,Jt,1,2,"img",8),o()(),n(7,"div",9)(8,"div",10),d(9,"img",11),n(10,"p",12),s(11,"Descripci\xF3n"),o(),n(12,"p"),s(13),o()(),n(14,"div",13)(15,"p",12),s(16,"Tipo de propiedad"),o(),n(17,"p"),s(18),o(),n(19,"p",12),s(20,"Habitaciones"),o(),n(21,"p"),s(22),o(),n(23,"p",12),s(24,"Ba\xF1os"),o(),n(25,"p"),s(26),o(),n(27,"p",12),s(28,"Tama\xF1o"),o(),n(29,"p"),s(30),o(),n(31,"p",12),s(32,"Ubicacci\xF3n"),o(),n(33,"p"),s(34),o()()()(),n(35,"div",14),g(36,Yt,3,3),o()()),i&2){let l=x();p(4),f(l.propiedad.name),p(2),c("ngForOf",l.getPropertyStars(l.propiedad.rating)),p(3),c("src",l.propiedad.img,h),p(4),k(" ",l.propiedad.description," "),p(5),k(" ",l.propiedad.type," "),p(4),f(l.propiedad.rooms),p(4),f(l.propiedad.bathrooms),p(4),f(l.propiedad.size),p(4),f(l.propiedad.ubication),p(2),v(36,l.shouldShow()?36:-1)}}function te(i,t){if(i&1){let l=j();n(0,"button",30),u("click",function(){U(l);let r=x();return L(r.openChangeReviewDialog())}),s(1,"Review"),o()}}function ee(i,t){if(i&1&&d(0,"app-review-list",31),i&2){let l=x();c("propertyid",l.propiedad.id)}}var Z=(()=>{let t=class t{constructor(){this.clientdata={userId:2,cuantity:1,contractStart:"",contractEnd:""},this.client=null,this.title=m(w),this.propertyservice=m(R),this.router=m(y),this.route=m(mt),this.dialog=m(W),this.url=""}openChangeReviewDialog(){let e=this.router.url.split("/").pop(),r=this.dialog.open(kt,{width:"50%",data:{id:e}})}shouldShow(){return this.url.includes("/own")}ngOnInit(){if(this.router.events.subscribe(e=>{e instanceof ct&&(this.url=e.url)}),this.title.changeTitle("Mis Propiedades"),history.state&&history.state.property)this.propiedad=history.state.property;else{let e=this.route.snapshot.paramMap.get("id")}this.clientdata=et({},this.propiedad.occupiedBy),this.propiedad.occupiedBy.userId&&this.propertyservice.getPropertyClient(this.propiedad.occupiedBy.userId).pipe(S(e=>({id:e.id,firstName:e.firstName,lastName:e.lastName,img:e.img}))).subscribe(e=>{this.client=e})}getPropertyStars(e){let r=[];for(let a=1;a<=5;a++)a<=e?r.push({image:"assets/star.png",alt:"Estrella llena"}):a<=e+.5?r.push({image:"assets/star2.png",alt:"Estrella semi llena"}):r.push({image:"assets/star3.png",alt:"Estrella vac\xEDa"});return r}getStatusColor(e){switch(e.toLowerCase()){case"ocupado":return"#FF0000";case"disponible":return"#00C914";case"en revision":return"#8F8F8F";default:return"black"}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-property-detail"]],decls:7,vars:3,consts:[["class","propiedad",4,"ngIf"],[1,"reviews"],[1,"reviews-title"],[3,"propertyid",4,"ngIf"],[1,"propiedad"],[1,"leftside"],[1,"title"],[1,"stars-container"],[3,"src","alt",4,"ngFor","ngForOf"],[1,"content"],[1,"image"],["onerror","this.src='assets/user.png'",3,"src"],[1,"subtitle"],[1,"desc"],[1,"rightside"],[3,"src","alt"],["class","occupied",4,"ngIf"],["class","not-occupied",4,"ngIf"],["class","promotion text-centered color-white",4,"ngIf"],[1,"occupied"],[1,"state"],[1,"userimage"],[1,"username","text-centered","color-white"],[1,"cuantity","text-centered","color-white"],[1,"date","text-centered","color-white"],[1,"contract-date"],[1,"not-occupied"],[1,"state","text-centered"],[1,"promotion","text-centered","color-white"],[1,"promo"],[3,"click"],[3,"propertyid"]],template:function(r,a){r&1&&(g(0,Zt,37,10,"div",0),n(1,"div",1)(2,"div",2)(3,"h2"),s(4,"Rese\xF1as"),o(),g(5,te,2,0,"button"),o(),g(6,ee,1,1,"app-review-list",3),o()),r&2&&(c("ngIf",a.propiedad),p(5),v(5,a.shouldShow()?-1:5),p(),c("ngIf",a.propiedad))},dependencies:[b,lt,zt],styles:["h1[_ngcontent-%COMP%]{font-size:64px}h2[_ngcontent-%COMP%]{font-size:32px}h3[_ngcontent-%COMP%]{font-size:24px}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:16px}h1[_ngcontent-%COMP%]{margin:auto auto 40px;line-height:64px}.subtitle[_ngcontent-%COMP%]{color:#2389fc}.propiedad[_ngcontent-%COMP%]{clear:both;display:flex;height:fit-content;margin-bottom:20px;justify-content:space-between}.leftside[_ngcontent-%COMP%]{width:60%;padding:0 0 0 2%}.rightside[_ngcontent-%COMP%]{max-width:40%;height:fit-content;margin-right:5%}.leftside[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:18px}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.leftside[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:60%}.leftside[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{width:40%;height:300px;margin:0 0 0 2%}.title[_ngcontent-%COMP%]{position:relative;display:flex;width:100%}.title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2389fc;font-weight:500}.stars-container[_ngcontent-%COMP%]{display:flex}.stars-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:30px}.state[_ngcontent-%COMP%]{font-weight:600}.occupied[_ngcontent-%COMP%]{position:relative;background-color:#001f3f;border-radius:37px;padding:33px;box-sizing:content-box}.occupied[_ngcontent-%COMP%]   .userimage[_ngcontent-%COMP%]{position:relative;width:153px;height:153px;background-color:#fff;border-radius:50%;top:0%;left:50%;transform:translate(-50%)}.text-centered[_ngcontent-%COMP%]{text-align:center}.color-white[_ngcontent-%COMP%]{color:#fff}.occupied[_ngcontent-%COMP%]   .userimage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:153px;height:153px}.date[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.contract-date[_ngcontent-%COMP%]{min-width:fit-content;flex:1;margin:0 5px}.not-occupied[_ngcontent-%COMP%]{background-color:#001f3f;border-radius:37px;padding:15px;margin-bottom:20px}.not-occupied[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.promotion[_ngcontent-%COMP%]{display:block;background-color:#2389fc;border-radius:37px;padding:20px}.promotion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin:auto auto 10px;width:175px}.reviews-title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.reviews-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2389fc;margin-left:5%;margin-right:2%;margin-bottom:0}"]});let i=t;return i})();function ie(i,t){i&1&&(n(0,"mat-error"),s(1,"Campo "),n(2,"strong"),s(3,"Obligatorio"),o()())}function ne(i,t){i&1&&(n(0,"mat-error"),s(1,"Campo "),n(2,"strong"),s(3,"Obligatorio"),o()())}function re(i,t){i&1&&(n(0,"mat-error"),s(1,"Campo "),n(2,"strong"),s(3,"Obligatorio"),o()())}function oe(i,t){i&1&&(n(0,"mat-error"),s(1,"Campo "),n(2,"strong"),s(3,"Obligatorio"),o()())}function ae(i,t){i&1&&(n(0,"mat-error"),s(1,"Campo "),n(2,"strong"),s(3,"Obligatorio"),o()())}function se(i,t){i&1&&(n(0,"mat-error"),s(1,"Tel\xE9fono "),n(2,"strong"),s(3,"inv\xE1lido"),o()())}function pe(i,t){i&1&&(n(0,"mat-error"),s(1,"Campo "),n(2,"strong"),s(3,"Obligatorio"),o()())}function le(i,t){i&1&&(n(0,"mat-error"),s(1,"Campo "),n(2,"strong"),s(3,"Obligatorio"),o()())}var tt=class{isErrorState(t,l){let e=l&&l.submitted;return!!(t&&(t.dirty||t.touched||e))}},Nt=(()=>{let t=class t{constructor(){this.title=m(w),this.formBuilder=m(Mt),this.propertyservice=m(R),this.router=m(y),this.matcher=new tt,this.dialog=m(W),this.imageUrl=null,this.form=this.formBuilder.group({name:["",O.required],type:["",O.required],size:["",O.required],rooms:["",O.required],bathrooms:["",O.required],description:["",O.required],ubication:["",O.required]})}ngOnInit(){this.title.changeTitle("Agregar Propiedad")}openChangePhotoDialog(){this.dialog.open(It,{width:"400px"}).componentInstance.fileSelected.subscribe(r=>{if(r){let a={img:r};this.imageUrl=r,console.log("Archivo seleccionado:",r)}else console.log("No se seleccion\xF3 ning\xFAn archivo.")})}submitRegister(){if(this.form.invalid)return;let e=this.form.value,r={id:0,owner:0,state:"En Revision",name:e.name,rating:0,type:e.type,rooms:e.rooms,bathrooms:e.bathrooms,size:e.size,ubication:e.ubication,description:e.description,reviews:[],occupiedBy:{},img:this.imageUrl};this.propertyservice.createProperty(r).subscribe(()=>{this.router.navigate(["/properties/own"])})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-property-create"]],decls:53,vars:24,consts:[[1,"content"],[1,"photo"],["id","propertyimage","onerror","this.src='assets/photo.png'",3,"src"],[3,"click"],[1,"form"],[3,"ngSubmit","formGroup"],["for","name"],[1,"example-full-width"],["id","name","formControlName","name","matInput","","placeholder","Nombre",3,"formControl","errorStateMatcher"],[1,"userData"],["for","type"],["id","type","formControlName","type","matInput","","placeholder","Tipo de propiedad",3,"formControl","errorStateMatcher"],["for","size"],["id","size","type","tel","formControlName","size","matInput","","placeholder","Tama\xF1o",3,"formControl","errorStateMatcher"],["for","rooms"],["id","rooms","formControlName","rooms","type","tel","matInput","","placeholder","Habitaciones",3,"formControl","errorStateMatcher"],["for","bathrooms"],["id","bathrooms","formControlName","bathrooms","type","tel","matInput","","placeholder","Ba\xF1os",3,"formControl","errorStateMatcher"],["for","description"],["id","description","formControlName","description","type","text","matInput","","placeholder","Descripci\xF3n",3,"formControl","errorStateMatcher"],["for","ubication"],["id","ubication","formControlName","ubication","type","text","matInput","","placeholder","Ubicaci\xF3n",3,"formControl","errorStateMatcher"],[1,"button-container"],["type","submit"]],template:function(r,a){r&1&&(n(0,"div",0)(1,"div",1)(2,"p"),s(3,"Foto"),o(),d(4,"img",2),n(5,"button",3),u("click",function(){return a.openChangePhotoDialog()}),s(6,"Agregar foto"),o()(),n(7,"div",4)(8,"form",5),u("ngSubmit",function(){return a.submitRegister()}),n(9,"label",6),s(10,"Nombre"),o(),n(11,"mat-form-field",7),d(12,"input",8),g(13,ie,4,0,"mat-error"),o(),n(14,"div",9)(15,"div")(16,"label",10),s(17,"Tipo de propiedad"),o(),n(18,"mat-form-field",7),d(19,"input",11),g(20,ne,4,0,"mat-error"),o()(),n(21,"div")(22,"label",12),s(23,"Tama\xF1o"),o(),n(24,"mat-form-field",7),d(25,"input",13),g(26,re,4,0,"mat-error"),o()(),n(27,"div")(28,"label",14),s(29,"Habitaciones"),o(),n(30,"mat-form-field",7),d(31,"input",15),g(32,oe,4,0,"mat-error"),o()(),n(33,"div")(34,"label",16),s(35,"Ba\xF1os"),o(),n(36,"mat-form-field",7),d(37,"input",17),g(38,ae,4,0,"mat-error")(39,se,4,0,"mat-error"),o()()(),n(40,"label",18),s(41,"Descripci\xF3n"),o(),n(42,"mat-form-field",7),d(43,"input",19),g(44,pe,4,0,"mat-error"),o(),n(45,"label",20),s(46,"Ubicaci\xF3n"),o(),n(47,"mat-form-field",7),d(48,"input",21),g(49,le,4,0,"mat-error"),o(),n(50,"div",22)(51,"button",23),s(52,"Agregar Propiedad"),o()()()()()),r&2&&(p(4),c("src",a.imageUrl,h),p(4),c("formGroup",a.form),p(4),c("formControl",a.form.controls.name)("errorStateMatcher",a.matcher),p(),v(13,a.form.controls.name.hasError("required")?13:-1),p(6),c("formControl",a.form.controls.type)("errorStateMatcher",a.matcher),p(),v(20,a.form.controls.type.hasError("required")?20:-1),p(5),c("formControl",a.form.controls.size)("errorStateMatcher",a.matcher),p(),v(26,a.form.controls.size.hasError("required")?26:-1),p(5),c("formControl",a.form.controls.rooms)("errorStateMatcher",a.matcher),p(),v(32,a.form.controls.rooms.hasError("required")?32:-1),p(5),c("formControl",a.form.controls.bathrooms)("errorStateMatcher",a.matcher),p(),v(38,a.form.controls.bathrooms.hasError("required")?38:-1),p(),v(39,a.form.controls.bathrooms.hasError("pattern")?39:-1),p(4),c("formControl",a.form.controls.description)("errorStateMatcher",a.matcher),p(),v(44,a.form.controls.description.hasError("required")?44:-1),p(4),c("formControl",a.form.controls.ubication)("errorStateMatcher",a.matcher),p(),v(49,a.form.controls.ubication.hasError("required")?49:-1))},dependencies:[yt,bt,Ot,ut,q,V,ft,Ct,vt,xt],styles:["h1[_ngcontent-%COMP%]{font-size:64px}h2[_ngcontent-%COMP%]{font-size:32px}h3[_ngcontent-%COMP%]{font-size:24px}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:16px}p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-weight:400;color:#2389fc}.form[_ngcontent-%COMP%]{max-width:600px;margin:0 10px 0 auto}input[_ngcontent-%COMP%]{height:50px!important;border-radius:25px;border-width:0;background-color:#e0e0e0;font-size:16px;padding:20px;width:100%}.userData[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex:2;width:100%}.userData[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1 1 220px;margin:15px .5%}.userData[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:fit-content;margin-right:10px}.userData[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;margin:auto}.button-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;flex-direction:column;padding:60px 0}button[_ngcontent-%COMP%]{text-align:center}.example-full-width[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{clear:both;display:flex}.form[_ngcontent-%COMP%]{order:1}.photo[_ngcontent-%COMP%]{display:flex;flex-direction:column;order:2;align-items:center;margin:0 auto 0 10px}.photo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;margin:16px}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#d9d9d9;width:250px;height:250px;border-radius:23px;margin-bottom:20px;border-style:none}form[_ngcontent-%COMP%]{padding:0 10px}@media (max-width: 900px){.content[_ngcontent-%COMP%]{clear:both;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]{order:2;margin:0 auto}.photo[_ngcontent-%COMP%]{order:1;margin:0 auto}}"]});let i=t;return i})();var ce=[{path:"",component:Rt,children:[{path:"own",component:Tt,canActivate:[z]},{path:"own/:id",component:Z,canActivate:[z]},{path:":id",component:Z,canActivate:[z]},{path:"create",component:Nt,canActivate:[z]}]}],Ut=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=F({type:t}),t.\u0275inj=I({imports:[X.forChild(ce),X]});let i=t;return i})();var Lt=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=F({type:t}),t.\u0275inj=I({imports:[A,J,H]});let i=t;return i})();var Wi=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=F({type:t}),t.\u0275inj=I({imports:[A,Ut,Lt,J,H,Pt]});let i=t;return i})();export{Wi as PropertiesModule};
